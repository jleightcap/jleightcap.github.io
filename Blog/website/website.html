<link rel="stylesheet" type="text/css" href="../../style.css" media="screen" />

<h1>Designing a Website Like a C Program</h1>
<center><a href="../../index.html">Jack Leightcap</a></center>
date: April 3, 2020
<p><i><p style="color:gray">
&quot;Ooh, this is one of those artisan, hand-crafted websites! I'll
have to post this to my Instagram. I once met an old web developer
in the south of France who would wash the bytes by hand before
uploading them to his server. Said it was a family tradition
passed down for generations.&quot;
- <a href="https://k1ss.org/testimonials">KISS Linux Testimonial</a></p>
</p></i>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<h2>Background</h2>
<p>I'm not a huge fan of developing websites.
This website was an exercise in treating web development like the development of
C programs and their related tools, which I'm much more familiar with.</p>
<p>Modifying this website only requires editing plaintext Markdown files, a Makefile, and
git.</p>
<p>I spent a decent amount of time tinkering with <a href="https://gohugo.io/">Hugo</a> previously.
It's a really simple way to just import a theme, write some simple pages in markdown, and you're set.
While I think this is a really good solution for people like me that just want
something that looks nice with minimal work, I felt like I didn't have full
control or understanding of various elements.
If I'm going to have to dig into the CSS and JavaScript anyway, I'd rather write a
worse replacement myself but at least understand it fully.</p>
<h2>Implementation</h2>
<h3>Structure</h3>
<p>In treating the source of this website like the source of a C program:</p>
<blockquote>
<p>CSS is like the header files, it defines some shared parameters to be imported and expanded on elsewhere.</p>
</blockquote>
<blockquote>
<p>Markdown is like the <code>.c</code> files, the bulk of the content.</p>
</blockquote>
<blockquote>
<p>And finally, <code>cmark</code> acts as a compiler.</p>
</blockquote>
<p>With this familiar setup, of course a <code>Makefile</code> is needed!</p>
<p>The directory structure:</p>
<pre><code>├── Makefile
│
│   # The actual content
├── index.md
├── 404.md
├── Blog
│   ├── {blog}
│   ├──── post.md
│   └──── content
├── Project
│   ├── {project}
│   ├──── post.md
│   └──── content
│
│   # Style
└── style.css
</code></pre>
<p>I've written the Makefile so that the compiled <code>.html</code> lives in the same space as the source <code>.md</code>.
I ~~can't be bothered to change that~~ decided this was a feature, so everything is ~~entirely unsecured~~ open source.
Both the source <code>.md</code> and compiled <code>.html</code>, as well as the entire Makefile can
be found at the
<a href="https://github.com/jleightcap/jleightcap.github.io">GitHub Pages repo</a>.</p>
<p>To generate the website just requires a <code>make</code> and a super fast compilation.
The relevant piece of the Makefile:</p>
<pre><code>%.html: %.md
    cmark -t html --unsafe $^ &gt; $@
    sed -i &quot;1s/^/&lt;link rel=\&quot;stylesheet\&quot; type=\&quot;text\/css\&quot; href=\&quot;$(CSS)\&quot; media=\&quot;screen\&quot; \/&gt;\n\n/&quot; $@
</code></pre>
<p>The <code>--unsafe</code> cmark flag allows for inline HTML in the source .md files.
The <code>sed</code> command prepends each .html file with a link to the source CSS. Think of this as a linker.</p>
